<div ng-include="'partials/navbar'"></div>

<div class="container" id="groups">
  <div class="row">
    <div class="col-sm-8" >
          
      <div ng-repeat="group in groups" class="group" droppable='group' ng-update='updateGroup(group, from, to, kiwi)'>
        <multi-yaxis-graph group='group'></multi-yaxis-graph>

        <div class="description">
          <h3>{{ group.name }}</h3>
          <input ng-model="group.description"></input>
          <button class="btn" ng-click="save(group)">Save</button>
        </div>

      </div>
    </div>

    <div class="col-sm-4">
      <div class="groups">
        <h2>Groups</h2>
        <div class="kiwiList">
          <input type="text" class="input" ng-model="groupName">
          <button class="btn add-group" ng-click="createGroup()">Create Group</button>
          <ul ng-repeat="group in groups" ng-click="selectGroup(group)" ng-class="selectedGroup===group ? 'selectedGroup' : ''">
            <h2>{{group.name}}</h2>
            <ul>
              <li ng-repeat="kiwi in group.kiwis"class="list">{{ kiwi.title }} <span class="remove" ng-click="removeFromGroup(group, kiwi)">x</span></li>
            </ul>
          </ul>
        </div>
      </div>
      <div class="kiwis">
        <h2>Kiwis</h2>
        <div class="kiwiList">
          <ul>
            <li class="kiwiList" ng-repeat="kiwi in kiwis track by kiwi.hash" draggable='kiwi' draggable-target='.group'>{{ kiwi.title | limitTo: 40 }}</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

</div>
<div ng-include="'partials/footer'"></div>
